@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #111111;
  --accent: #666666;
  --font-serif: "Crimson Pro", serif;
  --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}



html,
body {
  max-width: 100vw;
  overflow-x: hidden;
  font-family: var(--font-serif);
  background: var(--background);
  color: var(--foreground);
  margin: 0;
  padding: 0;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  font-size: 18px;
  /* Slightly larger for paper-like feel */
}

a {
  color: inherit;
  text-decoration: none;
  background-image: linear-gradient(var(--foreground), var(--foreground)), linear-gradient(var(--accent), var(--accent));
  background-size: 0% 1px, 100% 1px;
  background-position: 0 100%, 100% 100%;
  background-repeat: no-repeat;
  transition: color 0.3s ease, background-size 0.3s ease;
  padding-bottom: 2px;
}

a:hover {
  background-size: 100% 1px, 0% 1px;
  color: var(--foreground);
}

/* Arrow Hover Effect */
.arrow-hover {
  position: relative;
  display: inline-block;
  background-image: linear-gradient(var(--foreground), var(--foreground));
  background-size: 0% 1px;
  background-position: 0 100%;
  background-repeat: no-repeat;
  transition: color 0.3s ease, background-size 0.3s ease;
  padding-bottom: 2px;
  padding-right: 24px;
  /* Make space for the arrow */
}

.arrow-hover::after {
  content: "â†’";
  position: absolute;
  right: 0;
  opacity: 0;
  transform: translateX(10px);
  transition: all 0.3s ease;
}

.arrow-hover:hover {
  background-size: 100% 1px;
  color: var(--foreground);
}

.arrow-hover-no-underline:hover {
  background-size: 0% 1px;
}

.arrow-hover:hover::after,
.group:hover .arrow-hover::after {
  opacity: 1;
  transform: translateX(0);
}

.container {
  max-width: 700px;
  margin: 0 auto;
  padding: 4rem 1rem;
  /* More vertical padding */
}

#main-container {
  padding: 0;
  max-width: 80vw;
}

@media (min-width: 1000px) {
  #main-container {
    max-width: 60vw;
  }
}

/* Minimalistic utilities */
.text-center {
  text-align: center;
}

.mb-4 {
  margin-bottom: 1rem;
}

.mb-8 {
  margin-bottom: 2rem;
}

.mt-16 {
  margin-top: 4rem;
}

.pt-8 {
  padding-top: 2rem;
}

.text-sm {
  font-size: 0.9rem;
}

.text-xl {
  font-size: 1.2rem;
}

.text-2xl {
  font-size: 1.5rem;
}

.text-3xl {
  font-size: 2rem;
}

.text-accent {
  color: var(--accent);
}

.mt-36 {
  margin-top: 9rem;
}

.mb-48 {
  margin-bottom: 12rem;
}

.font-bold {
  font-weight: 600;
}

.italic {
  font-style: italic;
}

.w-full {
  width: 100%;
}

.rounded-lg {
  border-radius: 4px;
}

.border-t {
  border-top-width: 1px;
}

.border-b {
  border-bottom-width: 1px;
}

.border-accent {
  border-color: var(--accent);
}

.flex {
  display: flex;
}

.justify-between {
  justify-content: space-between;
}

.items-center {
  align-items: center;
}

.py-4 {
  padding-top: 1rem;
  padding-bottom: 1rem;
}

.hover\:bg-gray-50:hover {
  background-color: rgba(0, 0, 0, 0.02);
}

.transition-colors {
  transition: color 0.2s, background-color 0.2s;
}

.block {
  display: block;
}

.no-underline {
  background-image: none;
}

/* MDX Styles */
article {
  counter-reset: sidenote-counter;
}

article h1 {
  font-family: var(--font-serif);
  font-size: 2.5rem;
  margin-top: 0;
  margin-bottom: 1rem;
  font-weight: 600;
  line-height: 1.2;
}

/* ... existing styles ... */

/* Sidenotes */
.sidenote {
  display: none;
}

.sidenote-ref {
  cursor: pointer;
  counter-increment: sidenote-counter;
}

.sidenote-ref a::after {
  content: counter(sidenote-counter);
}

.sidenote-number::after {
  content: counter(sidenote-counter);
}

@media (min-width: 1280px) {
  /* ... existing styles ... */

  .sidenote-number {
    vertical-align: super;
    font-size: 0.7rem;
    margin-right: 0.2rem;
  }

  /* ... */
}

article h2 {
  font-family: var(--font-serif);
  font-size: 1.5rem;
  margin-top: 3rem;
  margin-bottom: 0.1rem;
  font-weight: 600;
  letter-spacing: -0.02em;
}

article h3 {
  font-family: var(--font-serif);
  font-size: 1.2rem;
  margin-top: 2rem;
  margin-bottom: 0.05rem;
  font-weight: 600;
  letter-spacing: -0.01em;
  color: var(--accent);
}

article p {
  margin-bottom: 1.5rem;
  text-align: left;
  /* Fixed justification spacing issues */
  line-height: 1.8;
  /* Slightly increased for better readability */
}

article img {
  max-width: 100%;
  height: auto;
  border-radius: 2px;
  margin: 2rem 0;
}

article blockquote {
  border-left: 3px solid var(--accent);
  padding-left: 1.5rem;
  font-style: italic;
  color: var(--accent);
  margin: 2rem 0;
}

article ul,
article ol {
  margin-bottom: 1.5rem;
  padding-left: 1.5rem;
}

article li {
  margin-bottom: 0.5rem;
}

/* Footnotes */
/* Footnotes */
[data-footnotes] {
  margin-top: 4rem;
  border-top: 1px solid #eaeaea;
  padding-top: 2rem;
  font-size: 0.9rem;
  color: var(--accent);
}

[data-footnotes] ol {
  padding-left: 1.5rem;
  list-style-type: decimal;
}

[data-footnotes] li {
  margin-bottom: 1rem;
}

[data-footnotes] p {
  margin-bottom: 0.5rem;
  display: inline;
}

[data-footnote-ref] {
  font-size: 0.75rem;
  vertical-align: super;
  line-height: 0;
  text-decoration: none;
  margin-left: 2px;
  color: var(--accent);
  background: none;
}

[data-footnote-backref] {
  text-decoration: none;
  margin-left: 4px;
  font-family: var(--font-sans);
  color: var(--accent);
  background: none;
}

[data-footnote-backref]:hover {
  color: var(--foreground);
}

/* Sidenotes */
.sidenote {
  display: none;
}

.sidenote-ref {
  cursor: pointer;
  counter-increment: sidenote-counter;
}

.sidenote-ref a::after {
  content: counter(sidenote-counter);
}

.sidenote-number::after {
  content: counter(sidenote-counter);
}

@media (min-width: 1280px) {
  #main-container {
    max-width: min(60vw, calc(100vw - 36rem));
  }

  article p {
    position: relative;
  }

  .sidenote {
    display: block;
    position: absolute;
    right: -16rem;
    top: 0;
    width: 14rem;
    font-size: 0.9rem;
    line-height: 1.4;
    color: var(--accent);
    text-align: left;
  }

  /* Hide bottom footnotes on desktop */
  [data-footnotes] {
    display: none;
  }

  /* Hide superscript ref in text when sidenote is shown?
     Actually, we probably want to keep the number in the text so the user knows which note refers to what.
     But the Sidenote component renders both the sup ref and the span note.
     So we just need to make sure the span note is positioned correctly.
  */
}